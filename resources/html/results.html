<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>POSThere.io - Results</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">    

    <!-- Custom styles for this template -->
    <link href="/assets/css/theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <a href="https://github.com/path/posthere.io/fork" target='_blank'><img style="position: absolute; top: 0; right: 0; border: 0;" src="/assets/images/github-fork.png" alt="Fork me on GitHub"></a>

    <nav class="navbar navbar-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">
            <div>
              <div class='pull-left'>
                <img src='/assets/images/x-all-the-y.png' class='navbar-image'>
                <img src='/assets/images/posthere.io.tagline.png' class='navbar-image'>
              </div>
            </div>
          </a>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="starter-template">
        <div>
          <div class='col-md-1'>&nbsp;</div>
          <div class='col-md-11'>
            <p class="lead text-left">Results for: <span id='post-url'><b>https://posthere.io/<span class='uuid-value'>1234-AB-5678</span>/</b></span></p>
            <hr/>
          </div>
        </div>

        <div id='empty-results'>
          <div class='result-group clearfix'>
            <div class='empty-results'>
              <div class='col-md-1'>&nbsp;</div>
              <div class='col-md-11 text-left text-muted'>
                <p>You POSTed something here, but don't see anything?  Chances are, it's not me, it's you.<p>
                <p>Try these cURL examples to see that everything is working OK with this POSThere.io URL:</p>
                <p><code>curl -X POST ... https://posthere.io/<span class='uuid-value'>1234-AB-5678</span></code></p>
                <p><code>curl -X POST ... https://posthere.io/<span class='uuid-value'>1234-AB-5678</span></code></p>
                <p><code>curl -X POST ... https://posthere.io/<span class='uuid-value'>1234-AB-5678</span></code></p>
              </div>
            </div>
          </div>
        </div>

        <div id='results' style='display: none;'>
        </div>

        <div id='built-by-group' class='container-group'>
          <p>Built in <a href='http://clojure.com' target='_blank'><img src='/assets/images/clojure-icon.gif'></a> by the fine folks at <a href='http://path.com' target='_blank'><img src='/assets/images/path-icon.png'></a></p>
        </div>

        <div id='cta-group' class='container-group text-center'>
          <p>Using POSThere.io to test your API calls and web hooks?  Then you probably want to <a href='https://path.com/about#jobs'>work for us!</a></p>
        </div>
      </div>

    </div><!-- /.container -->

    <footer class="footer">
      <div class="container">
        <span>Â© 2014 Path, Inc.</span>
        <a href='/faq'>FAQ</a>
        <a href='/privacy'>Privacy</a>
        <a href='/Terms of Use'>Terms of Use</a>
      </div>
    </footer>

    <span id='data'>
    </span>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <!-- Latest compiled handlebars -->
    <script src="http://builds.handlebarsjs.com.s3.amazonaws.com/handlebars-v2.0.0.js"></script>

    <script id="result-template" type="text/x-handlebars-template">
      <div class='result-group clearfix'>
        <div>
          <div class='clearfix'>
            <div class='col-md-1'><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span></div>
            <div class='col-md-3 text-left'><strong>{{timeago}}</strong></div>
            <div class='col-md-4 text-center'><strong>{{content_type}}</strong></div>
            <div class='col-md-4 text-right'>Status: <strong>{{status_result}}</strong></div>
          </div>

          <div>
            <div class='col-md-1'>&nbsp;</div>
            <div class='col-md-11 text-left text-muted'>
              <span class='result-timestamp'>{{timestamp}}</span>
            </div>
          </div>
        </div>

        <div class='clearfix'>
          <div class='col-md-1'>&nbsp;</div>
          <div class='col-md-7'>
            <table class='table table-bordered body-table'>
              <tbody>
                <tr>
                  <td colspan='2' class='text-center'>Body</td>
                </tr>
                {{#each results}}
                  <tr>
                    <th>{{@key}}</th>
                    <td>{{this}}</td>
                  </tr>
                {{/each}}
              </tbody>
            </table>
          </div>

          <div class='col-md-4'>
            <table class='table table-bordered header-table'>
              <tbody>
                <tr>
                  <th colspan='2' class='text-center'>Headers</th>
                </tr>
                {{#each headers}}
                  <tr>
                    <th>{{@key}}</th>
                    <td>{{this}}</td>
                {{/each}}
              </tbody>
            </table>
          </div>
        </div>

        <div>
          <div class='col-md-1'>&nbsp;</div>
          <div class='col-md-11'>
            <a href='/'>raw JSON</a>
            <hr/>
          </div>
        </div>
      </div>
    </script>

    <script type='text/javascript'>
      var source = $("#result-template").html();
      var template = Handlebars.compile(source);

      for (var i = 0; i < resultData.length; i++) {
        // todo; parse according to type, setup the actual time ago / content type / status / timestamp
        data = {timeago: "28 seconds", content_type: "JSON", status_result: 200, timestamp: "11/11/11", results: JSON.parse(resultData[i].body), headers: resultData[i].headers}
        var html = template(data);
        $("#results").append(html);
      }
    </script>
  </body>
</html>
